# Arquitectura - EduGo Worker

## ğŸ“ Diagrama de Arquitectura General

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              SISTEMA EDUGO                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚  â”‚   API Mobile    â”‚    â”‚   API Admin     â”‚    â”‚   Frontend      â”‚              â”‚
â”‚  â”‚   (Estudiantes) â”‚    â”‚   (Docentes)    â”‚    â”‚   (Web App)     â”‚              â”‚
â”‚  â”‚   Port: 8080    â”‚    â”‚   Port: 8081    â”‚    â”‚   Port: 3000    â”‚              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚           â”‚                      â”‚                                               â”‚
â”‚           â”‚ 1. Sube PDF          â”‚                                               â”‚
â”‚           â”‚ 2. Publica evento    â”‚ Valida tokens                                â”‚
â”‚           â–¼                      â”‚ (AuthClient)                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                              RABBITMQ                                       â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚ â”‚
â”‚  â”‚  â”‚  Exchange: edugo.materials (type: topic)                            â”‚    â”‚ â”‚
â”‚  â”‚  â”‚  â”œâ”€â”€ Routing Key: material.uploaded â†’ Queue: edugo.material.uploadedâ”‚    â”‚ â”‚
â”‚  â”‚  â”‚  â”œâ”€â”€ Routing Key: material.deleted  â†’ Queue: edugo.material.deleted â”‚    â”‚ â”‚
â”‚  â”‚  â”‚  â””â”€â”€ Dead Letter Exchange: edugo_dlq                                â”‚    â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚ â”‚
â”‚  â”‚  â”‚  Queue: edugo.material.uploaded                                     â”‚    â”‚ â”‚
â”‚  â”‚  â”‚  â”œâ”€â”€ Durable: true                                                  â”‚    â”‚ â”‚
â”‚  â”‚  â”‚  â”œâ”€â”€ x-max-priority: 10                                             â”‚    â”‚ â”‚
â”‚  â”‚  â”‚  â””â”€â”€ x-dead-letter-exchange: edugo_dlq                              â”‚    â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                        â”‚                                         â”‚
â”‚                                        â”‚ 3. Consume eventos                      â”‚
â”‚                                        â–¼                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                           EDUGO WORKER                                      â”‚ â”‚
â”‚  â”‚                                                                             â”‚ â”‚
â”‚  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚ â”‚
â”‚  â”‚   â”‚                         cmd/main.go                                  â”‚  â”‚ â”‚
â”‚  â”‚   â”‚  â€¢ Carga configuraciÃ³n                                               â”‚  â”‚ â”‚
â”‚  â”‚   â”‚  â€¢ Inicializa infraestructura (bootstrap)                            â”‚  â”‚ â”‚
â”‚  â”‚   â”‚  â€¢ Configura RabbitMQ (exchange, queue, bindings)                    â”‚  â”‚ â”‚
â”‚  â”‚   â”‚  â€¢ Consume mensajes en goroutine                                     â”‚  â”‚ â”‚
â”‚  â”‚   â”‚  â€¢ Maneja graceful shutdown (SIGINT, SIGTERM)                        â”‚  â”‚ â”‚
â”‚  â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â”‚
â”‚  â”‚                                                                             â”‚ â”‚
â”‚  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚ â”‚
â”‚  â”‚   â”‚                    INTERNAL LAYERS                                   â”‚  â”‚ â”‚
â”‚  â”‚   â”‚                                                                      â”‚  â”‚ â”‚
â”‚  â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚ â”‚
â”‚  â”‚   â”‚  â”‚ APPLICATION â”‚  â”‚   DOMAIN    â”‚  â”‚      INFRASTRUCTURE         â”‚  â”‚  â”‚ â”‚
â”‚  â”‚   â”‚  â”‚             â”‚  â”‚             â”‚  â”‚                             â”‚  â”‚  â”‚ â”‚
â”‚  â”‚   â”‚  â”‚ Processors: â”‚  â”‚ Services:   â”‚  â”‚ â€¢ MongoDB Repositories      â”‚  â”‚  â”‚ â”‚
â”‚  â”‚   â”‚  â”‚ â€¢ Material  â”‚â†’ â”‚ â€¢ State     â”‚â†’ â”‚ â€¢ AuthClient (api-admin)    â”‚  â”‚  â”‚ â”‚
â”‚  â”‚   â”‚  â”‚   Uploaded  â”‚  â”‚   Machine   â”‚  â”‚ â€¢ RabbitMQ Channel          â”‚  â”‚  â”‚ â”‚
â”‚  â”‚   â”‚  â”‚ â€¢ Material  â”‚  â”‚ â€¢ Validatorsâ”‚  â”‚ â€¢ PostgreSQL (via shared)   â”‚  â”‚  â”‚ â”‚
â”‚  â”‚   â”‚  â”‚   Deleted   â”‚  â”‚             â”‚  â”‚                             â”‚  â”‚  â”‚ â”‚
â”‚  â”‚   â”‚  â”‚ â€¢ Assessmentâ”‚  â”‚ ValueObjectsâ”‚  â”‚                             â”‚  â”‚  â”‚ â”‚
â”‚  â”‚   â”‚  â”‚   Attempt   â”‚  â”‚ â€¢ MaterialIDâ”‚  â”‚                             â”‚  â”‚  â”‚ â”‚
â”‚  â”‚   â”‚  â”‚ â€¢ Student   â”‚  â”‚             â”‚  â”‚                             â”‚  â”‚  â”‚ â”‚
â”‚  â”‚   â”‚  â”‚   Enrolled  â”‚  â”‚             â”‚  â”‚                             â”‚  â”‚  â”‚ â”‚
â”‚  â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚ â”‚
â”‚  â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â”‚
â”‚  â”‚                                                                             â”‚ â”‚
â”‚  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚ â”‚
â”‚  â”‚   â”‚                         BOOTSTRAP                                    â”‚  â”‚ â”‚
â”‚  â”‚   â”‚  Resources:                                                          â”‚  â”‚ â”‚
â”‚  â”‚   â”‚  â€¢ Logger (logrus adapter)                                           â”‚  â”‚ â”‚
â”‚  â”‚   â”‚  â€¢ PostgreSQL (*sql.DB)                                              â”‚  â”‚ â”‚
â”‚  â”‚   â”‚  â€¢ MongoDB (*mongo.Database)                                         â”‚  â”‚ â”‚
â”‚  â”‚   â”‚  â€¢ RabbitMQ (*amqp.Channel)                                          â”‚  â”‚ â”‚
â”‚  â”‚   â”‚  â€¢ AuthClient (api-admin client)                                     â”‚  â”‚ â”‚
â”‚  â”‚   â”‚  â€¢ LifecycleManager (cleanup)                                        â”‚  â”‚ â”‚
â”‚  â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                               â”‚                                                  â”‚
â”‚        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                          â”‚
â”‚        â–¼                      â–¼                      â–¼                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚  â”‚  PostgreSQL   â”‚    â”‚   MongoDB     â”‚    â”‚   External APIs   â”‚               â”‚
â”‚  â”‚               â”‚    â”‚               â”‚    â”‚                   â”‚               â”‚
â”‚  â”‚ â€¢ materials   â”‚    â”‚ Collections:  â”‚    â”‚ â€¢ OpenAI GPT-4    â”‚               â”‚
â”‚  â”‚   (estado)    â”‚    â”‚ â€¢ material_   â”‚    â”‚   (resÃºmenes)     â”‚               â”‚
â”‚  â”‚               â”‚    â”‚   summary     â”‚    â”‚ â€¢ AWS S3          â”‚               â”‚
â”‚  â”‚               â”‚    â”‚ â€¢ material_   â”‚    â”‚   (PDFs)          â”‚               â”‚
â”‚  â”‚               â”‚    â”‚   assessment  â”‚    â”‚ â€¢ api-admin       â”‚               â”‚
â”‚  â”‚               â”‚    â”‚   _worker     â”‚    â”‚   (auth)          â”‚               â”‚
â”‚  â”‚               â”‚    â”‚ â€¢ material_   â”‚    â”‚                   â”‚               â”‚
â”‚  â”‚               â”‚    â”‚   events      â”‚    â”‚                   â”‚               â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚                                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ§© Arquitectura de Capas (Clean Architecture)

El worker sigue una arquitectura limpia con separaciÃ³n clara de responsabilidades:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         cmd/main.go                              â”‚
â”‚                    (Punto de entrada)                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    internal/bootstrap/                           â”‚
â”‚               (InicializaciÃ³n y Wiring)                          â”‚
â”‚                                                                  â”‚
â”‚  bootstrap.go    â†’ FunciÃ³n Initialize()                          â”‚
â”‚  bridge.go       â†’ Conecta shared/bootstrap con worker          â”‚
â”‚  factories.go    â†’ FÃ¡bricas de recursos                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â–¼                   â–¼                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   APPLICATION   â”‚  â”‚     DOMAIN      â”‚  â”‚ INFRASTRUCTURE  â”‚
â”‚                 â”‚  â”‚                 â”‚  â”‚                 â”‚
â”‚ â€¢ processor/    â”‚  â”‚ â€¢ service/      â”‚  â”‚ â€¢ persistence/  â”‚
â”‚   (casos de uso)â”‚  â”‚   (lÃ³gica)      â”‚  â”‚   mongodb/      â”‚
â”‚                 â”‚  â”‚                 â”‚  â”‚   repository/   â”‚
â”‚ â€¢ dto/          â”‚  â”‚ â€¢ valueobject/  â”‚  â”‚                 â”‚
â”‚   (contratos)   â”‚  â”‚   (tipos)       â”‚  â”‚ â€¢ client/       â”‚
â”‚                 â”‚  â”‚                 â”‚  â”‚   (HTTP)        â”‚
â”‚                 â”‚  â”‚ â€¢ constants/    â”‚  â”‚                 â”‚
â”‚                 â”‚  â”‚                 â”‚  â”‚ â€¢ messaging/    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### DescripciÃ³n de Capas

| Capa | Directorio | Responsabilidad |
|------|------------|-----------------|
| **Application** | `internal/application/` | Casos de uso, orquestaciÃ³n de procesamiento |
| **Domain** | `internal/domain/` | LÃ³gica de negocio pura, validaciones, estados |
| **Infrastructure** | `internal/infrastructure/` | Acceso a datos, clientes externos |
| **Bootstrap** | `internal/bootstrap/` | InicializaciÃ³n, inyecciÃ³n de dependencias |
| **Config** | `internal/config/` | Carga y validaciÃ³n de configuraciÃ³n |
| **Client** | `internal/client/` | Clientes HTTP para servicios externos |

---

## ğŸ“¦ Diagrama de Componentes

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              PROCESSORS                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚  â”‚ MaterialUploadedProcessor   â”‚  â”‚ MaterialDeletedProcessor    â”‚           â”‚
â”‚  â”‚                             â”‚  â”‚                             â”‚           â”‚
â”‚  â”‚ Input:                      â”‚  â”‚ Input:                      â”‚           â”‚
â”‚  â”‚ â€¢ MaterialUploadedEvent     â”‚  â”‚ â€¢ MaterialDeletedEvent      â”‚           â”‚
â”‚  â”‚                             â”‚  â”‚                             â”‚           â”‚
â”‚  â”‚ Process:                    â”‚  â”‚ Process:                    â”‚           â”‚
â”‚  â”‚ 1. Validar MaterialID       â”‚  â”‚ 1. Validar MaterialID       â”‚           â”‚
â”‚  â”‚ 2. Actualizar estado â†’      â”‚  â”‚ 2. Eliminar summary         â”‚           â”‚
â”‚  â”‚    processing (PostgreSQL)  â”‚  â”‚    (MongoDB)                â”‚           â”‚
â”‚  â”‚ 3. Extraer texto PDF        â”‚  â”‚ 3. Eliminar assessment      â”‚           â”‚
â”‚  â”‚ 4. Generar resumen (AI)     â”‚  â”‚    (MongoDB)                â”‚           â”‚
â”‚  â”‚ 5. Guardar summary          â”‚  â”‚                             â”‚           â”‚
â”‚  â”‚    (MongoDB)                â”‚  â”‚ Output:                     â”‚           â”‚
â”‚  â”‚ 6. Generar quiz (AI)        â”‚  â”‚ â€¢ Logs de limpieza          â”‚           â”‚
â”‚  â”‚ 7. Guardar assessment       â”‚  â”‚                             â”‚           â”‚
â”‚  â”‚    (MongoDB)                â”‚  â”‚                             â”‚           â”‚
â”‚  â”‚ 8. Actualizar estado â†’      â”‚  â”‚                             â”‚           â”‚
â”‚  â”‚    completed (PostgreSQL)   â”‚  â”‚                             â”‚           â”‚
â”‚  â”‚                             â”‚  â”‚                             â”‚           â”‚
â”‚  â”‚ Dependencies:               â”‚  â”‚ Dependencies:               â”‚           â”‚
â”‚  â”‚ â€¢ *sql.DB (PostgreSQL)      â”‚  â”‚ â€¢ *mongo.Database           â”‚           â”‚
â”‚  â”‚ â€¢ *mongo.Database           â”‚  â”‚ â€¢ logger.Logger             â”‚           â”‚
â”‚  â”‚ â€¢ logger.Logger             â”‚  â”‚                             â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚  â”‚ AssessmentAttemptProcessor  â”‚  â”‚ StudentEnrolledProcessor    â”‚           â”‚
â”‚  â”‚                             â”‚  â”‚                             â”‚           â”‚
â”‚  â”‚ Input:                      â”‚  â”‚ Input:                      â”‚           â”‚
â”‚  â”‚ â€¢ AssessmentAttemptEvent    â”‚  â”‚ â€¢ StudentEnrolledEvent      â”‚           â”‚
â”‚  â”‚                             â”‚  â”‚                             â”‚           â”‚
â”‚  â”‚ Process:                    â”‚  â”‚ Process:                    â”‚           â”‚
â”‚  â”‚ 1. Registrar intento        â”‚  â”‚ 1. Registrar inscripciÃ³n    â”‚           â”‚
â”‚  â”‚ 2. Notificar si score bajo  â”‚  â”‚ 2. Preparar contenido       â”‚           â”‚
â”‚  â”‚ 3. Actualizar analytics     â”‚  â”‚                             â”‚           â”‚
â”‚  â”‚                             â”‚  â”‚                             â”‚           â”‚
â”‚  â”‚ Dependencies:               â”‚  â”‚ Dependencies:               â”‚           â”‚
â”‚  â”‚ â€¢ logger.Logger             â”‚  â”‚ â€¢ logger.Logger             â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ Diagrama de Secuencia: Material Uploaded

```
â”Œâ”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”
â”‚Clientâ”‚  â”‚API Mobileâ”‚  â”‚ RabbitMQ â”‚  â”‚ Worker â”‚  â”‚PostgreSQLâ”‚  â”‚ OpenAI â”‚  â”‚MongoDBâ”‚
â””â”€â”€â”¬â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”¬â”€â”€â”€â”˜
   â”‚           â”‚             â”‚            â”‚            â”‚            â”‚           â”‚
   â”‚ 1. Upload â”‚             â”‚            â”‚            â”‚            â”‚           â”‚
   â”‚   PDF     â”‚             â”‚            â”‚            â”‚            â”‚           â”‚
   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚             â”‚            â”‚            â”‚            â”‚           â”‚
   â”‚           â”‚             â”‚            â”‚            â”‚            â”‚           â”‚
   â”‚           â”‚ 2. Publish  â”‚            â”‚            â”‚            â”‚           â”‚
   â”‚           â”‚ material.   â”‚            â”‚            â”‚            â”‚           â”‚
   â”‚           â”‚ uploaded    â”‚            â”‚            â”‚            â”‚           â”‚
   â”‚           â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚            â”‚            â”‚            â”‚           â”‚
   â”‚           â”‚             â”‚            â”‚            â”‚            â”‚           â”‚
   â”‚           â”‚             â”‚ 3. Deliver â”‚            â”‚            â”‚           â”‚
   â”‚           â”‚             â”‚   message  â”‚            â”‚            â”‚           â”‚
   â”‚           â”‚             â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚            â”‚            â”‚           â”‚
   â”‚           â”‚             â”‚            â”‚            â”‚            â”‚           â”‚
   â”‚           â”‚             â”‚            â”‚ 4. UPDATE  â”‚            â”‚           â”‚
   â”‚           â”‚             â”‚            â”‚ status=    â”‚            â”‚           â”‚
   â”‚           â”‚             â”‚            â”‚ processing â”‚            â”‚           â”‚
   â”‚           â”‚             â”‚            â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚            â”‚           â”‚
   â”‚           â”‚             â”‚            â”‚            â”‚            â”‚           â”‚
   â”‚           â”‚             â”‚            â”‚ 5. Generateâ”‚            â”‚           â”‚
   â”‚           â”‚             â”‚            â”‚   summary  â”‚            â”‚           â”‚
   â”‚           â”‚             â”‚            â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚           â”‚
   â”‚           â”‚             â”‚            â”‚            â”‚            â”‚           â”‚
   â”‚           â”‚             â”‚            â”‚            â”‚  6. AI     â”‚           â”‚
   â”‚           â”‚             â”‚            â”‚            â”‚  Response  â”‚           â”‚
   â”‚           â”‚             â”‚            â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚           â”‚
   â”‚           â”‚             â”‚            â”‚            â”‚            â”‚           â”‚
   â”‚           â”‚             â”‚            â”‚ 7. INSERT summary       â”‚           â”‚
   â”‚           â”‚             â”‚            â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
   â”‚           â”‚             â”‚            â”‚            â”‚            â”‚           â”‚
   â”‚           â”‚             â”‚            â”‚ 8. Generateâ”‚            â”‚           â”‚
   â”‚           â”‚             â”‚            â”‚   quiz     â”‚            â”‚           â”‚
   â”‚           â”‚             â”‚            â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚           â”‚
   â”‚           â”‚             â”‚            â”‚            â”‚            â”‚           â”‚
   â”‚           â”‚             â”‚            â”‚            â”‚  9. AI     â”‚           â”‚
   â”‚           â”‚             â”‚            â”‚            â”‚  Response  â”‚           â”‚
   â”‚           â”‚             â”‚            â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚           â”‚
   â”‚           â”‚             â”‚            â”‚            â”‚            â”‚           â”‚
   â”‚           â”‚             â”‚            â”‚ 10. INSERT assessment   â”‚           â”‚
   â”‚           â”‚             â”‚            â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
   â”‚           â”‚             â”‚            â”‚            â”‚            â”‚           â”‚
   â”‚           â”‚             â”‚            â”‚ 11. UPDATE â”‚            â”‚           â”‚
   â”‚           â”‚             â”‚            â”‚ status=    â”‚            â”‚           â”‚
   â”‚           â”‚             â”‚            â”‚ completed  â”‚            â”‚           â”‚
   â”‚           â”‚             â”‚            â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚            â”‚           â”‚
   â”‚           â”‚             â”‚            â”‚            â”‚            â”‚           â”‚
   â”‚           â”‚             â”‚ 12. ACK    â”‚            â”‚            â”‚           â”‚
   â”‚           â”‚             â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚            â”‚            â”‚           â”‚
   â”‚           â”‚             â”‚            â”‚            â”‚            â”‚           â”‚
```

---

## ğŸ” IntegraciÃ³n con AuthClient

El worker puede validar tokens JWT usando `api-admin` como autoridad central:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          AUTH CLIENT FLOW                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                         AuthClient                                     â”‚ â”‚
â”‚  â”‚                                                                        â”‚ â”‚
â”‚  â”‚  Features:                                                             â”‚ â”‚
â”‚  â”‚  â€¢ Token validation via api-admin                                      â”‚ â”‚
â”‚  â”‚  â€¢ In-memory cache (configurable TTL)                                  â”‚ â”‚
â”‚  â”‚  â€¢ Circuit breaker (gobreaker)                                         â”‚ â”‚
â”‚  â”‚  â€¢ Bulk validation support                                             â”‚ â”‚
â”‚  â”‚                                                                        â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚ â”‚
â”‚  â”‚  â”‚ Request  â”‚â”€â”€â”€â”€>â”‚  Cache   â”‚â”€â”€â”€â”€>â”‚Circuit Breakerâ”‚â”€â”€â”€â”€>â”‚api-admin â”‚  â”‚ â”‚
â”‚  â”‚  â”‚(Validate)â”‚     â”‚  Check   â”‚     â”‚              â”‚     â”‚/v1/auth/ â”‚  â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚              â”‚     â”‚verify    â”‚  â”‚ â”‚
â”‚  â”‚                        â”‚           â”‚  States:     â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â”‚
â”‚  â”‚                   Cacheâ”‚Hit        â”‚  â€¢ Closed    â”‚                   â”‚ â”‚
â”‚  â”‚                        â”‚           â”‚  â€¢ Open      â”‚                   â”‚ â”‚
â”‚  â”‚                        â–¼           â”‚  â€¢ Half-Open â”‚                   â”‚ â”‚
â”‚  â”‚                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚ â”‚
â”‚  â”‚                   â”‚ Return   â”‚                                        â”‚ â”‚
â”‚  â”‚                   â”‚ Cached   â”‚                                        â”‚ â”‚
â”‚  â”‚                   â”‚ TokenInfoâ”‚                                        â”‚ â”‚
â”‚  â”‚                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                        â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                             â”‚
â”‚  Endpoints consumidos:                                                      â”‚
â”‚  POST /v1/auth/verify       â†’ ValidaciÃ³n individual                        â”‚
â”‚  POST /v1/auth/verify-bulk  â†’ ValidaciÃ³n en batch                          â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š Patrones ArquitectÃ³nicos Utilizados

| PatrÃ³n | ImplementaciÃ³n |
|--------|----------------|
| **Event-Driven** | RabbitMQ como message broker |
| **Worker Pattern** | Procesamiento asÃ­ncrono de eventos |
| **Repository** | AbstracciÃ³n de acceso a MongoDB |
| **Factory** | CreaciÃ³n de recursos en bootstrap |
| **Circuit Breaker** | Resiliencia en llamadas HTTP |
| **State Machine** | GestiÃ³n de estados de eventos |
| **Value Object** | MaterialID con validaciÃ³n |
| **Adapter** | Logger adapter para logrus |
| **Bridge** | ConexiÃ³n con shared/bootstrap |

---

## ğŸŒ Red y ComunicaciÃ³n

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    DOCKER NETWORK: edugo-network                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚  â”‚edugo-worker â”‚  â”‚ postgresql  â”‚  â”‚  mongodb    â”‚             â”‚
â”‚  â”‚             â”‚  â”‚             â”‚  â”‚             â”‚             â”‚
â”‚  â”‚ Variables:  â”‚  â”‚ Port: 5432  â”‚  â”‚ Port: 27017 â”‚             â”‚
â”‚  â”‚ APP_ENV     â”‚  â”‚             â”‚  â”‚             â”‚             â”‚
â”‚  â”‚ POSTGRES_*  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â”‚  â”‚ MONGODB_URI â”‚                                                â”‚
â”‚  â”‚ RABBITMQ_URLâ”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚  â”‚ OPENAI_*    â”‚  â”‚  rabbitmq   â”‚  â”‚  api-admin  â”‚             â”‚
â”‚  â”‚             â”‚  â”‚             â”‚  â”‚             â”‚             â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ Port: 5672  â”‚  â”‚ Port: 8081  â”‚             â”‚
â”‚                   â”‚ Mgmt: 15672 â”‚  â”‚             â”‚             â”‚
â”‚                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“ˆ Escalabilidad

El worker estÃ¡ diseÃ±ado para escalar horizontalmente:

1. **MÃºltiples instancias** pueden consumir de la misma cola
2. **Prefetch count configurable** para control de carga
3. **Auto-ack deshabilitado** para procesamiento seguro
4. **Dead letter queue** para mensajes fallidos
5. **Prioridad de mensajes** soportada (x-max-priority: 10)
